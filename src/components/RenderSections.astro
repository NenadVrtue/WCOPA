---
import Media from "@sections/Media.astro";

import FeaturedList1 from "@sections/FeaturedList1.astro";
import FeaturedList2 from "@sections/FeaturedList2.astro";
import Steps from "@sections/Steps.astro";
import CenteredText from "@sections/CenteredText.astro";
import Hero from "@sections/Hero.astro";
import FeaturedEvents from "@sections/FeaturedEvents.astro";

const Sections = {
  mediaSection: Media,

  featuredList1: FeaturedList1,
  featuredList2: FeaturedList2,
  steps: Steps,
  centeredText: CenteredText,
  hero: Hero,
  featuredEvents: FeaturedEvents,
};

const { sections } = Astro.props;
---

{
  sections &&
    sections.map((section) => {
      const { _type } = section;
      const Component = Sections[_type];
      if (!Component) {
        console.error(`Component for type "${_type}" is not defined.`);
        return null;
      }
      return <Component section={section} />;
    })
}
