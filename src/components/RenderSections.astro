---
import Media from "@sections/Media.astro";

import FeaturedList1 from "@sections/FeaturedList1.astro";
import FeaturedList2 from "@sections/FeaturedList2.astro";
import Steps from "@sections/Steps.astro";
import CenteredText from "@sections/CenteredText.astro";
import Hero from "@sections/Hero.astro";
import FeaturedEvents from "@sections/FeaturedEvents.astro";
import CenteredCard from "@sections/CenteredCard.astro";
import Cta1 from "@sections/Cta1.astro";
import HomeHero from "@sections/HomeHero.astro";
import VideoTestimonials from "@sections/VideoTestimonials.astro";
import FAQ from "@sections/FAQ.astro";
import Cta2 from "@/sections/Cta2.astro";
import ScheduleSection from "@/sections/ScheduleSection.astro";
import CardFeature2 from "@/sections/CardFeature2.astro";
import Insights from "@/sections/Insights.astro";
import SuccessStories from "@/sections/SuccessStories.astro";

const Sections = {
  mediaSection: Media,
  featuredList1: FeaturedList1,
  featuredList2: FeaturedList2,
  steps: Steps,
  centeredText: CenteredText,
  hero: Hero,
  featuredEvents: FeaturedEvents,
  centeredCard: CenteredCard,
  cta1: Cta1,
  homeHero: HomeHero,
  videoTestimonials: VideoTestimonials,
  faqSection: FAQ,
  cta2: Cta2,
  scheduleSection: ScheduleSection,
  cardsFeature2: CardFeature2,
  insights  : Insights,
  successStories : SuccessStories
};

const { sections } = Astro.props;
---

{
  sections &&
    sections.map((section) => {
      const { _type } = section;
      const Component = Sections[_type];
      if (!Component) {
        console.error(`Component for type "${_type}" is not defined.`);
        return null;
      }
      return <Component section={section} />;
    })
}
